(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const m of n.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&l(m)}).observe(document,{childList:!0,subtree:!0});function c(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerPolicy&&(n.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?n.credentials="include":o.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function l(o){if(o.ep)return;o.ep=!0;const n=c(o);fetch(o.href,n)}})();let f=[];async function L(){try{f=await(await fetch("./paintings.json")).json(),p()}catch(e){console.error("Error loading paintings:",e)}}const u=document.getElementById("gallery"),g=document.querySelectorAll("nav a"),s=document.getElementById("lightbox"),a=document.getElementById("lightbox-img"),h=document.getElementById("caption"),v=document.querySelector(".close");let y="all",i=[],r=0;function p(e="all"){u.innerHTML="",u.className="gallery masonry",i=e==="all"?f:f.filter(t=>t.theme===e),i.forEach((t,c)=>{const l=document.createElement("div");l.className="gallery-item",l.innerHTML=`
            <img src="${t.path}" alt="${t.filename}" loading="lazy">
            <div class="overlay">
                <span class="theme">${t.filename}</span>
                <span class="date">${t.theme}</span>
            </div>
        `,l.onclick=()=>b(c),u.appendChild(l)})}window.addEventListener("resize",()=>{p(y)});function b(e){r=e;const t=i[r];s.style.display="flex",a.src=t.path,h.innerHTML=`<strong>${t.filename}</strong><br><small>${t.theme}</small>`,document.body.style.overflow="hidden"}function d(e){r+=e,r<0&&(r=i.length-1),r>=i.length&&(r=0);const t=i[r];a.style.opacity=0,setTimeout(()=>{a.src=t.path,h.innerHTML=`<strong>${t.filename}</strong><br><small>${t.theme}</small>`,a.style.opacity=1},200)}document.querySelector(".prev").onclick=e=>{e.stopPropagation(),d(-1)};document.querySelector(".next").onclick=e=>{e.stopPropagation(),d(1)};document.addEventListener("keydown",e=>{s.style.display==="flex"&&(e.key==="ArrowLeft"&&d(-1),e.key==="ArrowRight"&&d(1),e.key==="Escape"&&v.onclick())});v.onclick=()=>{s.style.display="none",document.body.style.overflow="auto"};s.onclick=e=>{e.target===s&&(s.style.display="none",document.body.style.overflow="auto")};g.forEach(e=>{e.onclick=t=>{t.preventDefault(),g.forEach(c=>c.classList.remove("active")),e.classList.add("active"),y=e.getAttribute("data-theme"),p(y),window.scrollTo({top:0,behavior:"smooth"})}});L();
