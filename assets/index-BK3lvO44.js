(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))l(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const s of n.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&l(s)}).observe(document,{childList:!0,subtree:!0});function r(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerPolicy&&(n.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?n.credentials="include":e.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function l(e){if(e.ep)return;e.ep=!0;const n=r(e);fetch(e.href,n)}})();let d=[];async function L(){try{d=await(await fetch("./paintings.json")).json(),g()}catch(t){console.error("Error loading paintings:",t)}}const f=document.getElementById("gallery"),p=document.querySelectorAll("nav a"),a=document.getElementById("lightbox"),u=document.getElementById("lightbox-img"),v=document.getElementById("caption"),w=document.querySelector(".close");let y="Watercolor",i=[],c=0;function g(t="all"){f.innerHTML="",f.className="gallery",i=t==="all"?d:d.filter(e=>e.theme===t),i.length===0&&t==="Watercolor"&&(i=d.filter(e=>e.theme==="Watercolor")),i.sort((e,n)=>new Date(n.date)-new Date(e.date));let o=3;const r=window.innerWidth;r<=768?o=1:r<=1200&&(o=2);const l=[];for(let e=0;e<o;e++){const n=document.createElement("div");n.className="gallery-column",l.push(n),f.appendChild(n)}i.forEach((e,n)=>{const s=document.createElement("div");s.className="gallery-item",s.innerHTML=`
            <img src="${e.path}" alt="${e.filename}" loading="lazy">
            <div class="info">
                <div class="title">${e.title}</div>
            </div>
        `,s.onclick=()=>b(n),l[n%o].appendChild(s)})}let h;window.addEventListener("resize",()=>{clearTimeout(h),h=setTimeout(()=>{g(y)},100)});function b(t){c=t;const o=i[c];a.style.display="flex",u.src=o.path;const r=new Date(o.date),l=isNaN(r)?"":r.getFullYear();v.innerHTML=`<strong>${o.title}</strong><small>${o.theme} ${l?"• "+l:""}</small>`,document.body.style.overflow="hidden"}function m(t){c+=t,c<0&&(c=i.length-1),c>=i.length&&(c=0);const o=i[c];u.style.opacity=0,setTimeout(()=>{u.src=o.path;const r=new Date(o.date),l=isNaN(r)?"":r.getFullYear();v.innerHTML=`<strong>${o.title}</strong><small>${o.theme} ${l?"• "+l:""}</small>`,u.style.opacity=1},200)}document.querySelector(".prev").onclick=t=>{t.stopPropagation(),m(-1)};document.querySelector(".next").onclick=t=>{t.stopPropagation(),m(1)};document.addEventListener("keydown",t=>{a.style.display==="flex"&&(t.key==="ArrowLeft"&&m(-1),t.key==="ArrowRight"&&m(1),t.key==="Escape"&&w.onclick())});w.onclick=()=>{a.style.display="none",document.body.style.overflow="auto"};a.onclick=t=>{t.target===a&&(a.style.display="none",document.body.style.overflow="auto")};p.forEach(t=>{t.onclick=o=>{o.preventDefault(),p.forEach(r=>r.classList.remove("active")),t.classList.add("active"),y=t.getAttribute("data-theme"),g(y),window.scrollTo({top:0,behavior:"smooth"})}});L();
